(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{432:function(_,v,e){_.exports=e.p+"assets/img/all_phases_after_url.644fdf55.png"},441:function(_,v,e){"use strict";e.r(v);var o=e(53),c=Object(o.a)({},(function(){var _=this,v=_.$createElement,o=_._self._c||v;return o("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[o("h3",{attrs:{id:"从输入-url-到页面展示完整流程"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#从输入-url-到页面展示完整流程"}},[_._v("#")]),_._v(" 从输入 URL 到页面展示完整流程")]),_._v(" "),o("p",[o("img",{attrs:{src:e(432),alt:"从输入URL到页面展示完整流程示意图"}})]),_._v(" "),o("p",[_._v("1、用户输入 url 并按回车键")]),_._v(" "),o("p",[_._v("2、"),o("code",[_._v("浏览器进程")]),_._v("检查 url，组装协议，构成完整的 url")]),_._v(" "),o("p",[_._v("3、"),o("code",[_._v("浏览器进程")]),_._v("通过进程间通信(IPC)把 url 请求发送给"),o("code",[_._v("网络进程")])]),_._v(" "),o("p",[_._v("4、"),o("code",[_._v("网络进程")]),_._v("接收到 url 请求后检查本地缓存是否缓存了该请求资源，如果有则将该资源返回给"),o("code",[_._v("浏览器进程")])]),_._v(" "),o("p",[_._v("5、如果没有，"),o("code",[_._v("网络进程")]),_._v("向"),o("code",[_._v("web服务器")]),_._v("发起 http 请求（网络请求），请求流程如下：")]),_._v(" "),o("ul",[o("li",[_._v("5.1 进行"),o("code",[_._v("DNS解析")]),_._v("，获取服务器 IP 地址、端口（http 端口默认 80，https 默认 443)")]),_._v(" "),o("li",[_._v("5.2 利用 ip 地址和服务器建立"),o("code",[_._v("TCP连接")])]),_._v(" "),o("li",[_._v("5.3 构建请求头信息")]),_._v(" "),o("li",[_._v("5.4 发送请求头信息")]),_._v(" "),o("li",[_._v("5.5 服务器响应后，"),o("code",[_._v("网络进程")]),_._v("接收响应头和响应信息，并解析响应内容")])]),_._v(" "),o("p",[_._v("6、"),o("code",[_._v("网络进程")]),_._v("解析响应流程：")]),_._v(" "),o("ul",[o("li",[_._v("6.1 检查"),o("code",[_._v("状态码")]),_._v("，如果是"),o("code",[_._v("301/302")]),_._v(",则需要重定向，从"),o("code",[_._v("Location")]),_._v("字段中读取地址，重新进行第 4 步。")]),_._v(" "),o("li",[_._v("6.2 "),o("code",[_._v("200")]),_._v("响应处理:\n"),o("ul",[o("li",[_._v("检查响应类型"),o("code",[_._v("Content-Type")]),_._v("，如果是字节流类型，则将该请求提交给"),o("code",[_._v("下载管理器")]),_._v("，该导航流程结束，不再进行后续的渲染；如果是"),o("code",[_._v("html")]),_._v("则通知"),o("code",[_._v("浏览器进程")]),_._v("准备"),o("code",[_._v("渲染进程")]),_._v("准备进行渲染")])])])]),_._v(" "),o("p",[_._v("7、准备"),o("code",[_._v("渲染进程")]),_._v(":")]),_._v(" "),o("ul",[o("li",[_._v("7.1 "),o("code",[_._v("浏览器进程")]),_._v("检查当前 url 是否和之前打开的"),o("code",[_._v("渲染进程")]),_._v("根域名是否相同，如果相同，则复用原来进程，如果不同，则开启新的"),o("code",[_._v("渲染进程")])])]),_._v(" "),o("p",[_._v("8、传输数据、更新状态")]),_._v(" "),o("ul",[o("li",[_._v("8.1 "),o("code",[_._v("渲染进程")]),_._v("准备好后，"),o("code",[_._v("浏览器进程")]),_._v("向"),o("code",[_._v("渲染进程")]),_._v("发起"),o("code",[_._v('"提交文档"')]),_._v("的消息，"),o("code",[_._v("渲染进程")]),_._v("接收到消息和"),o("code",[_._v("网络进程")]),_._v("建立传输数据的“管道”")]),_._v(" "),o("li",[_._v("8.2 "),o("code",[_._v("渲染进程")]),_._v("接收完数据后，向"),o("code",[_._v("浏览器进程")]),_._v("发送"),o("code",[_._v('"确认提交”')])]),_._v(" "),o("li",[_._v("8.3 "),o("code",[_._v("浏览器进程")]),_._v("接收到确认消息后更新浏览器界面状态：安全、地址栏 url、前进后退的历史状态、更新 web 页面")])]),_._v(" "),o("p",[_._v("9、"),o("code",[_._v("渲染进程")]),_._v("对文档进行页面解析和子资源加载")]),_._v(" "),o("ul",[o("li",[_._v("9.1 "),o("code",[_._v("HTML")]),_._v("通过"),o("code",[_._v("HTML解析器")]),_._v("转成"),o("code",[_._v("DOM Tree")])]),_._v(" "),o("li",[_._v("9.2 "),o("code",[_._v("CSS")]),_._v("按照"),o("code",[_._v("CSS")]),_._v("规则和"),o("code",[_._v("CSS解释器")]),_._v("转成"),o("code",[_._v("CSSOM Tree")])]),_._v(" "),o("li",[_._v("9.3 两个"),o("code",[_._v("Tree")]),_._v("结合形成"),o("code",[_._v("Render Tree")])]),_._v(" "),o("li",[_._v("9.4 通过"),o("code",[_._v("Layout")]),_._v("计算出每个元素具体的宽高颜色位置，结合起来，开始绘制，最后显示在屏幕中")])])])}),[],!1,null,null,null);v.default=c.exports}}]);